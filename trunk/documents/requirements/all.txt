武汉大学ACM/ICPC协会
华中北区程序设计邀请赛
赛事主页兼报名系统
需求分析


需求分析第1部分

1. 通知发布系统
    管理员可在后台发布最新通知，采用UBB编辑器，可上传照片
    通知面向不同用户可在一定程度上实现个性化显示
    (使用模板加上一些"变量"来表示)
    可生成预赛结果、晋级决赛情况、决赛结果页面


详细需求(可参照whuacm主页的风格设计)

队伍界面
    首页
        显示Logo，详细信息的链接，比赛的公告，以及管理员发布的通知
        显示登录表单/注册链接，以及一些资源、友情链接等。
        未注册队伍可以点击注册链接转到注册页面(part2)
        已注册队伍可以填写队伍名和密码+验证码登录(part2)
        在后台导入相应数据以后可以显示预赛和决赛的相关信息(如结果等)

    通知列表页面
        分页显示所有通知
    通知页面
        显示通知的内容和其他相关信息，对于部分通知，要求队伍先登录才
        能查看，看到的消息是经过替换的 部分内容针对队伍给出。

 管理员界面
    文章列表页面
        分页显示所有通知
    文章发布/修改页面
        使用简单的UBB编辑器，需要输入标题、内容、编码格式(plain/html
        /ubb)，优先级，访问权限等内容。提供文件和图片的上传功能和插
        入提供下载功能。提供[separator]标签以便在首页只显示内容预览.
        提供一些针对队伍定制信息的功能，替换规则为: 所有包含在{(和)}
        之间的字段，替换成数据表teams中的相应字段, 例如
        {(team_id)} 被替换成teams表中的team_id字段的内容。


需求分析第2部分

    2. 队伍信息处理系统(包括队伍注册及针对网络赛、现场赛的一些处理)
        分别对校内校外队伍进行处理
            对于校内队伍，要求输入包括学号学院等详细信息。
            对于校外队伍，要求输入更少一些的信息。
        对于注册的用户，要求使用邮箱进行验证，邮箱注册后不允许修改
        队伍注册以后可以修改队伍信息、添加修改队员信息
        在报名截止以后不再允许注册，队伍信息(除密码外)不再允许修改
        对于晋级决赛的队伍，可进行随机编号，方便比赛现场使用
        p.s. 提供队伍注销功能


具体需求：

1. 队伍界面
    1) 注册(报名截止后停止注册)
        选择学校，填写队名(英文)，队伍密码，联系方式(地址,邮编，电话，
        邮箱) 是否能够参加决赛等信息。在填写时随时予以提示队名是
        否可用
            a. 非保留名
            b. 3～20 英文字符、数字、空格
        若队名不可用，拒绝提交，若用户通过某种方法绕过，服务器端
        也进行验证并转至相应错误页面
        (需收集学校列表, 若某队伍注册时发现无对应学校则联系管理员)
    2) 队伍注册成功，进入"未验证"状态
        允许修改密码、联系方式，允许注销队伍
        系统向队伍邮箱发送一封包含一个随机数的邮件, 等待队伍验证
        (需事先测试哪些邮箱可以收到该邮件并在注册页面提示)
    3) 队伍验证成功，进入"已验证"状态
        允许队伍修改除邮箱外的基本信息；
        队伍可添加队员：包含1个教练(可选)和至多3个成员(1名队长)
        教练信息:
            姓名，性别，学校，学院, 邮箱
        队员信息分为校内队伍和校外大学队伍，高中队伍(允许不同学校组队)
            校内队伍：
                姓名，性别，学院，年级，专业及班级，学号
                邮箱，电话，其他联系方式(可选)
            校外大学队伍：
                姓名，性别，院系，邮箱，电话，其他联系方式(可选)
            高中队伍：
                姓名，性别，学校，年级，邮箱，电话，其他联系方式(可选)
        队伍信息(除密码外)将在报名截止后冻结禁止修改, 如须修改联系管理员
    4) 预赛结束并导入排名、晋级决赛信息之后，队伍可以看到相应信息,包括
            a. 预赛排名
            b. 是否晋级决赛
            c. 若晋级决赛，其决赛编号
        另，进入决赛的队伍可选择给教练发送一封邀请函, 可预览
        同时发送一份到队伍邮箱(以防邮件丢失，可以转发)

2. 管理员界面
    1) 可查看统计信息(校内，校外，高中，已审核，未审核队伍数等)
    2) 可查看所有队伍信息, 可分类查看
    3) 可修改任意队伍信息
    4) 可以修改队伍是否晋级决赛



需求分析第3部分

    3. 用户反馈系统(站内信/邮件)
        用户可以向管理员发送一些简短的信息用于反馈遇到的问题
        可以查看管理员对应的回复
        管理员可以看到用户发送的信息，然后给予回复
        管理员可以或者单独/批量发送信息/邮件给用户
        批量发送信息的时候采用模板
        不同用户看到的信息有部分不同(如用户名密码等)

详细需求分析
    本部分是队伍在登录以后才能见到。消息按主题进行处理，数据库
    中的每一条消息记录其是否是新消息，或者回复的哪一条消息。

    消息列表页面：
        分成两个部分，分别显示收到的消息和发送的消息, 分页显示
        消息，每一条消息显示消息发送者、发送时间、消息的标题，
        如果消息已经被回复，可以看到一个标志。点击消息进入消息
        内容页面。

    消息内容页面：
        显示消息的具体信息，包括发送者、接受者、发送时间，标题
        内容，是否已经回复，回复的上一篇的内容和链接，以及回复
        消息的链接。

    消息发送页面：
        队伍可以选择回复某一条消息，也可以选择直接给管理员发送
        消息。
        管理员可以选择给某一个或者几个队伍发送消息，也可以选择
        群发消息, 或者选择回复队伍发送过来的消息。


 4. 数据导入/导出(配合Online Judge举行预赛)
        所有导入导出可以自定义格式
        可以导出注册队伍数据，方便OnlineJudge导入
        可以导入预赛排名结果
        可以导入晋级决赛结果
        可以导出决赛队伍信息，方便PC^2导入
        可以导入决赛名次信息，共生成结果

具体要求：
	1) 导出注册队伍数据，方便online judge导入
		初赛：信息只需包括队伍编号，及[team_Num],初始排名均为0；
		决赛：信息包括队伍编号，注册时的密码，预赛解决题目数量，预赛排名
			  即[Team_Num],[Password],[Front_Solved],[Front_Rank].
	2)导入预赛排名结果
			  信息包括：队伍ID,队伍编号，队伍学校，预赛题目解决情况，预赛解决题目数量，罚时，预赛排名。
			  即[Team_ID],[Team_Num],[College],[Front_Problems],[Front_Solved],[Penalty],[Front_Rank]
	3)导入晋级决赛结果
			  信息包括：队伍ID，队伍编号，队伍学校，预赛排名。
			  即[Team_ID][Team_Num][College][Front_Rank].
	4)导出决赛队伍信息，方便PC^2导入。
			  信息包括：队伍ID,队伍编号，队伍学校，预赛解决题目数量，预赛排名。
			  即[Team_ID],[Team_Num],[College],[Front_Solved],[Front_Rank]。
	5)导入决赛名次信息，共生成结果.
			  信息包括：队伍ID,队伍编号，决赛题目解决情况，决赛解决题目数量，罚时，决赛排名。
			  即[Team_ID],[Team_Num],[Last_Problems],[Last_Solved],[Penalty],[Last_Rank].
			  如果决赛成绩相同且罚时相同，则由裁判根据预赛成绩判断排名。
			  按排名从上到下显示队伍信息。
	
	注：1.在题目解决情况里面，即[***_Problems]对应的各个题目的状态为xx/y，其中xx为解决该题的时间，y为提交次数，当没有被解决时，显示xx为--。
		2.在题目解决情况里面，每次提交结果（AC,CE,TLE,WA,RE,MLE,OLE）以及语言（C,C++,Java）要对应记录，但不显示在公告栏（board），只是作为内部数据记录，方便查询。
			  



需求分析第5部分

    5. 住宿预定系统
        管理员可以添加一些可选的宾馆信息，
            包括名称，位置，Google Earth记录点，价格等。
        对于晋级决赛的队伍，可以选择其中的某一个宾馆


具体需求：

1. 队伍界面
    晋级决赛的队伍可以查看住宿点列表及详细信息
        列表包括
        名称，电话，Google Earth记录点链接
    对于每一个住宿点，可查看更详细信息，包括：
        名称，位置，宾馆价格，电话, 附加信息(宽带早餐等)
        Google Earth记录点的链接(可以直接显示在页面上?)

    允许队伍从已知住宿点列表里面 选择1个意向住宿点以及
    1个备选住宿点，并可填写其他要求。 工作人员将尽量满足
    其要求，但是在满足不了时选择尽可能符合的住宿点，要求
    队伍事先同意这一点。
    －队伍可以在某一截止时间之前修改其选择。
    

2. 管理员界面
    添加、查看、修改住宿信息
    查看、修改及导出队伍的选择
